# shellcheck shell=sh
# shellcheck disable=SC2039

f() {
    if [ -z "$O" ]; then
        echo "stdin is not a tty"
    else
        echo "stdin is a tty"
    fi
}

echo a | f
f

assert "$(O=b f)" = "stdin is a tty"
eval 'assert "$(O=b f)" = "stdin is a tty"'

# alias a='dict :a'
# a put a