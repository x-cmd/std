# shellcheck shell=sh disable=SC2039,SC2142,SC3043

# File: customized/xcloud/init
# paramtest plugin add ppp "Test plugincmd subscription"
paramtest_plugincmd(){
    echo "$@"
}

test_plugincmd(){
    # FIXME: There is something wrong with the testcase. Plugin command was show every where.
    # paramtest plugin pprint paramtest
    paramtest plugin unset plugincmd
    paramtest plugin add paramtest plugincmd  "Test plugincmd subscription"
    # paramtest -h
    paramtest plugincmd b c d e
#     assert stdout X_CMD_ADVISE_FUNC_NAME=paramtest paramtest _x_cmd_advise_json<<A
# {
#   "--candi_null": [ "can1", "can2", "" ],
#   "#1": [  ],
#   "#n": [  ],
#   "plugincmd": null,
#   "option|op": {
#     "--mul_line_arg|-m|r": [  ],
#     "--regex_arg1": [  ],
#     "--regex_arg2": [  ],
#     "--repo|-r|r": [  ],
#     "--repo2|-b|m|1": [ "abc", "cde", "def" ],
#     "--repo2|-b|m|2": [  ],
#     "--priviledge|-p": [ "private", "public" ],
#     "--no_type_arg|-n": [  ],
#     "--flag1|-f": null,
#     "--flag1222|-g": null,
#     "#1": [  ],
#     "#222222": [  ],
#     "#3": [  ],
#     "repo": "list_repo all",
#     "#1": "list_repo"
#   },
#   "subcmd": {
#     "sscmd1|s1|ss1|longlongsubcommand": {
#       "--ss1_opt1|-s1o1": null,
#       "--ss1_opt2|-s1o2": null,
#       "--ss1_opt3|-s1o3": null
#     },
#     "sscmd2": null
#   },
#   "marg": {
#     "--card|-c|mr|1": [  ],
#     "--card|-c|mr|2": [  ],
#     "--card|-c|mr|3": [  ]
#   }
# }
# A
}

test_plugincmd