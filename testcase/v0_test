# shellcheck shell=sh disable=SC2039,SC2142,SC3043,SC2120

############################
# Section 2: param testcases
############################

cp -r ./* ~/.x-cmd/param/
x log init param

cross_env_test() {
    for i in bash:3 bash:4 bash:5 ; do
        dict_log info "Testing : " "$i"
        docker run -it -v  ~/.x-cmd/:/root/.x-cmd/ -v "$(pwd)":/pd "${i}" bash -c ". ~/.x-cmd/xrc/latest && cd pd && . ./testcase/v0_test_base"
    done

    for i in alpine ubuntu ; do
        dict_log info "Testing : " "$i"
        docker run -it -v  ~/.x-cmd/:/root/.x-cmd/ -v "$(pwd)":/pd "${i}" sh -c ". ~/.x-cmd/xrc/latest && cd pd && . ./testcase/v0_test_base"
    done
}

. ./testcase/v0_test_base
cross_env_test