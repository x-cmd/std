# shellcheck shell=bash

json_stringify(){
    USE=json
    TEST_CODE="
{
    data = \$0
}

END{
    json_parse(data, arr)
    for (i in arr){
        debug(\"i:\"i\";\\tarr:\"arr[i])
    }
    json_dict_push(arr, 1 S q(\"b\"), 6)


    print json_stringify_format(arr)

    # print json_stringify_compact(arr)
    # print json_stringify_machine(arr)
}
"
    xawk code "${TEST_CODE}" -v RS="\t" <<A
{
    "a": {
        "c":3
    },
    "b": [
        3,
        4,
        5,
        6,
        7,
        8
    ]
}
A
}

test_json(){
    json_stringify
}

