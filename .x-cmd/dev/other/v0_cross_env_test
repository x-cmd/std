# shellcheck shell=sh disable=SC3043

x log init dict

cross_env_test() {
    for i in bash:3 bash:4 bash:5 ; do
        dict_log info "Testing : " "$i"
        docker run -it -v  ~/.x-cmd/:/root/.x-cmd/ -v "$(pwd)":/pd "${i}" bash -c ". ~/.x-cmd/xrc/latest && cd pd && . ./testcase/v0_test"
    done

    for i in alpine ubuntu ; do
        dict_log info "Testing : " "$i"
        docker run -it -v  ~/.x-cmd/:/root/.x-cmd/ -v "$(pwd)":/pd "${i}" sh -c ". ~/.x-cmd/xrc/latest && cd pd && . ./testcase/v0_test"
    done
}

cross_env_test
dict_log info "Testing : local"
. ./testcase/v0_test