# shellcheck shell=sh disable=SC2039,SC2142,SC3043

# Section: test prepare
paramtest(){
    param:dsl  <<A
subcommand:
    subcmd          "Test subcommand"
options:
    --candi_null    "Test null option to use candidate"  <candi_null>:candis="abc"        =  abc  cde     def
A
    param:run
    paramtest_"${PARAM_SUBCMD}" "$@"
}

paramtest_subcmd(){
    param:scope     "paramtest/$O"
    param:dsl       '
subcommand:
    sscmd1|s1|s-s1|longlongsubcommand   "Test sub sub command1"
'
    param:run
    paramtest_subcmd_"${PARAM_SUBCMD}" "$@"
}
# EndSection

test_subcmd_help(){
    @assert stdout paramtest _x_cmd_help << A

OPTIONS:
    --candi_null <candi_null>   Test null option to use candidate [default: abc] [candidate: "abc", "cde", "def"]

SUBCOMMANDS:
    subcmd   Test subcommand

Run 'CMD SUBCOMMAND --help' for more information on a command

A

    @assert stdout "paramtest subcmd _x_cmd_help" <<A

SUBCOMMANDS:
    sscmd1,s1,s-s1,longlongsubcommand   Test sub sub command1

Run 'CMD SUBCOMMAND --help' for more information on a command

A

}

@assert:file:func