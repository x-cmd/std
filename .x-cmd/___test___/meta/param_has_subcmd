#shellcheck shell=sh
has_subcmd(){
    param:subcmd has_subcmd            \
        aaa       "This is a aaa"          \
        bbb       "This is a bbb"
    param:subcmd:try

    param:dsl <<A
subcommand:
    ccc                     "This is a ccc"
    ddd                     "This is a ddd"
A
    param:run
}

test_has_subcmd(){
    @assert true  has_subcmd _param_has_subcmd aaa
    @assert true  has_subcmd _param_has_subcmd ccc
    @assert false has_subcmd _param_has_subcmd eee
}
@assert:file:func