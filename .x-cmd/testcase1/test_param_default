# Define in param
param_type      gitee     Bool              =       true   false
param_type      gitee     URL               "=~"      "https?://.+|(\\s&&[^\\f\\n\\r\\t\\v])*"
param_type      gitee     ISOTime           "=~"      "/^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\.[0-9]+)?(Z|[+-](?:2[0-3]|[01][0-9]):[0-5][0-9])?$/|(\\s&&[^\\f\\n\\r\\t\\v])*"
param_type      gitee     NatureNumber      "=~"      "[0-9]+"
param_type      gitee     numbers           "=~"      "[0-9]+|(\\s&&[^\\f\\n\\r\\t\\v])*"
param_type      gitee     Address           "=~"      "[-A-Za-z0-9_]+|https?://.+"

paramtest_default(){
    param:scope     "gitee/$O"
    param:dsl       '
option:
    --pd|-d    "Test param default setting"   <param_default>:URL
'
    param:run
    echo "param default: $pd"
}

paramtest_default

paramtest1(){
    param:dsl       '
option:
    #1|--pd|-d    "Test param default setting"   <param_default>
    --mul_line_arg|-m       "Test multiple line argument"            <mline_arg>:mline_arg_type
    --regex_arg1            "Test an argument with regex 1"          <>=0     =~  [0-9]*
    --regex_arg2            "Test an argument with regex 2"          <>=20    =~  ([1-9]?[0-9]|100)
    --repo|-r               "Provide repo name"                      <>:repo_type   =~  "abc"   "cde"   "def"
'
    param:run
    echo "param default: $pd"
}

paramtest1


___x_cmd_gh_user_repo() {
    param:dsl       '
subcmd:
    ls          "list user repo"
type:
    authority = all public private
    group = owner collaborator organization_member  admin
    sort = created updated pushed full_name
    direction = desc asc
options:
    --visibility    "visibility"        <>:authority="all"
    --affiliation   "affiliation"       <>:group="organization_member"
    --sort          "sort"              <>:sort="created"
    --direction     "direction"         <>:direction="desc"
'
    param:run

    echo "default: $visibility, $affiliation, $sort, $direction"
}

___x_cmd_gh_user_repo ls